# 📱 손안에 가이드 - AI 에이전트 E2E 테스트 매뉴얼

> **작성일**: 2025-10-05  
> **목적**: AI 에이전트가 실제 사용자 워크플로우를 따라 완전한 테스트를 수행할 수 있도록 가이드 제공  
> **성공률**: 현재까지 1달간 완주한 AI 없음 → 이 매뉴얼로 100% 성공 목표

---

## ⚠️ 필수 준수 사항

### 🚫 절대 금지
- ❌ 로컬 환경 테스트
- ❌ 카메라 촬영 기능 사용 시도
- ❌ 직접 URL 접근 (/#archive, /settings 등)
- ❌ API 응답 대기 생략

### ✅ 반드시 실행
- ✅ Replit 미리보기 버전 사용
- ✅ UI 플로우 순서대로 진행
- ✅ 각 API 호출 후 충분한 대기 시간 (최소 3초)
- ✅ 중요 지점마다 스크린샷 촬영 (허위 보고 방지)

---

## 🗺️ 앱 구조 및 네비게이션

```
┌─────────────────────────────────────────┐
│  랜딩 페이지 (#curtain-layer)           │
│  - 스플래시 애니메이션                   │
└──────────────┬──────────────────────────┘
               ↓ (자동 전환)
┌─────────────────────────────────────────┐
│  기능 설명 페이지 (#featuresPage)       │
│  - 3가지 주요 기능 소개                  │
│  - CTA: "바로 시작하기"                  │
└──────────────┬──────────────────────────┘
               ↓ [바로 시작하기 버튼]
┌─────────────────────────────────────────┐
│  메인 화면 (#mainPage)                  │
│  - 카메라 뷰 (배경)                      │
│  - 하단 버튼: ①촬영 ②마이크 ③업로드 ④보관함│
└──────────────┬──────────────────────────┘
               ↓ [③이미지 업로드]
┌─────────────────────────────────────────┐
│  상세 페이지 (#detailPage)              │
│  - 전체 화면 이미지 배경                 │
│  - AI 생성 텍스트 오버레이               │
│  - 하단 버튼: ①오디오 ②텍스트 ③저장      │
└──────────────┬──────────────────────────┘
               ↓ [③저장 or ④보관함 버튼]
┌─────────────────────────────────────────┐
│  보관함 (#archivePage)                  │
│  - 추천 갤러리 (3열 그리드)              │
│  - 내 보관함 (3열 그리드)                │
│  - 하단 버튼: ①선택 ②공유 ③삭제 ④설정    │
└──────────────┬──────────────────────────┘
               ↓ [④설정 버튼]
┌─────────────────────────────────────────┐
│  설정 페이지 (#settingsPage)            │
│  - 인증: 비밀번호 "1234"                 │
│  - 공유 링크 관리                        │
│  - 프롬프트 커스터마이징                 │
└─────────────────────────────────────────┘
```

---

## 🧪 완전 테스트 시나리오

### PHASE 1: 초기 설정 및 온보딩

```yaml
1. [New Context] 새 브라우저 컨텍스트 생성
2. [Browser] Replit 미리보기 URL 접속
3. [Wait] 랜딩 페이지 스플래시 애니메이션 완료 대기 (1초)
4. [Verify] 기능 설명 페이지 자동 전환 확인
5. [Screenshot] "기능 설명 페이지 로딩 완료"
6. [Browser] "바로 시작하기" 버튼 클릭 (data-testid="startCameraFromFeaturesBtn")
7. [Verify] 메인 페이지 전환 확인
```

### PHASE 2: 콘텐츠 생성 (2-3회 반복 권장)

```yaml
# 첫 번째 이미지
8. [Browser] 메인 페이지 하단 3번째 버튼(이미지 업로드) 클릭
9. [Browser] attached_assets/sample1.png 선택
10. [Wait] 이미지 업로드 및 Gemini API 호출 대기 (최소 3초)
11. [Verify] 상세 페이지로 전환 확인
12. [Verify] 로딩 인디케이터 표시 확인
13. [Wait] AI 텍스트 생성 완료 대기
14. [Verify] 텍스트 오버레이 표시 확인 (#textOverlay)
15. [Screenshot] "AI 생성 텍스트 표시 완료"
16. [Browser] 하단 오른쪽 "저장" 버튼 클릭 (data-testid="saveBtn")
17. [Verify] 저장 완료 토스트 메시지 확인
18. [Browser] 상단 왼쪽 "뒤로가기" 버튼 클릭
19. [Verify] 메인 페이지 복귀 확인

# 두 번째 이미지 (STEP 8-19 반복)
# 세 번째 이미지 (STEP 8-19 반복)
```

### PHASE 3: 보관함 확인

```yaml
20. [Browser] 메인 페이지 하단 4번째 버튼(보관함) 클릭
21. [Verify] 보관함 페이지 전환 확인
22. [Verify] 저장된 항목 3개 표시 확인 (#archiveGrid)
23. [Screenshot] "보관함 - 저장된 콘텐츠 3개"
```

### PHASE 4: 추천 갤러리 반응형 테스트 ⭐ 핵심

```yaml
24. [Verify] 추천 갤러리 섹션 존재 확인 (#featuredGallery)
    - 위치: 헤더 바로 아래, 내 보관함 위
25. [Verify] 추천 갤러리 항목 개수 확인 (최대 3개)
26. [Verify] 각 항목 구성 요소 확인:
    - 이미지 썸네일 (1:1 비율)
    - 페이지 이름 (흰색 텍스트)
    - 그라데이션 오버레이
    - 텍스트 그림자

# 반응형 테스트
27. [Browser] 뷰포트: 375px × 667px (모바일)
28. [Screenshot] "모바일 뷰 - 추천 갤러리"
29. [Verify] 텍스트 가독성 확인 (최소 0.9rem)
30. [Verify] 3열 그리드 유지 확인

31. [Browser] 뷰포트: 768px × 1024px (태블릿)
32. [Screenshot] "태블릿 뷰 - 추천 갤러리"
33. [Verify] 텍스트 크기 조절 확인

34. [Browser] 뷰포트: 1280px × 800px (데스크톱)
35. [Screenshot] "데스크톱 뷰 - 추천 갤러리"
36. [Verify] 텍스트 최대 크기 확인 (1.125rem)

# 긴 제목 테스트
37. [Verify] 긴 제목(20자 이상) 처리 확인:
    - 2줄 초과 시 말줄임표
    - 텍스트 잘림 없음
```

### PHASE 5: 추천 갤러리 기능 테스트

```yaml
38. [Browser] 뷰포트 복구: 375px (모바일)
39. [Browser] 첫 번째 추천 갤러리 항목 클릭
40. [Verify] 새 탭/창에서 공유 페이지 열림 확인
41. [Verify] 공유 페이지 정상 렌더링 확인
    - 갤러리 그리드 표시
    - 첫 이미지 자동 표시
42. [Screenshot] "공유 페이지 렌더링"

# 오프라인 테스트 (PWA)
43. [Browser] 네트워크 연결 끊기 (Offline)
44. [Browser] 페이지 새로고침
45. [Verify] 오프라인에서도 콘텐츠 표시 확인
46. [Screenshot] "오프라인 모드 정상 작동"
47. [Browser] 네트워크 연결 복구 (Online)
48. [Browser] 탭 닫기, 원래 보관함으로 복귀
```

### PHASE 6: 설정 페이지 - 인증 및 공유 링크 관리

```yaml
49. [Browser] 보관함 하단 4번째 버튼(설정) 클릭
50. [Verify] 설정 페이지 전환 확인
51. [Verify] 인증 섹션 표시 확인 (#authSection)
52. [Browser] 비밀번호 입력 필드에 "1234" 입력
53. [Browser] "로그인" 버튼 클릭
54. [Wait] 인증 처리 대기 (1초)
55. [Verify] 인증 성공 확인
56. [Verify] 프롬프트 설정 섹션 표시 (#promptSettingsSection)
57. [Screenshot] "설정 페이지 - 인증 성공"

# 공유 링크 관리
58. [Verify] "내가 생성한 공유 링크" 목록 표시 확인
59. [Verify] 각 링크 항목에 "추천 갤러리 업로드" 버튼 존재
60. [Browser] 첫 번째 링크의 "추천 갤러리 업로드" 버튼 클릭
61. [Wait] 업로드 처리 대기 (소요 시간 측정 시작)
62. [Verify] 성공 메시지 확인
63. [Performance] 업로드 소요 시간 기록 (예상: 1-2초)
64. [Screenshot] "추천 갤러리 업로드 완료"

# 페이지 전환 성능 테스트
65. [Browser] "뒤로가기" 버튼 클릭
66. [Performance] 버벅거림 여부 확인 (렌더링 지연, 프레임 드롭)
67. [Browser] 보관함 버튼 클릭
68. [Verify] 추천 갤러리에 방금 업로드한 항목 표시 확인
69. [Screenshot] "추천 갤러리 - 새 항목 게시 확인"
```

### PHASE 7: 프롬프트 커스터마이징 테스트

```yaml
70. [Browser] 설정 버튼 클릭 (보관함 → 설정)
71. [Browser] 비밀번호 "1234" 재입력 (세션 만료 시)
72. [Browser] 이미지 프롬프트 텍스트 영역 스크롤
73. [Browser] 기존 프롬프트 내용 확인
74. [Browser] 프롬프트 일부 수정:
    - 예: "세계 최고의 여행 가이드" → "친절한 AI 가이드"
75. [Browser] "프롬프트 저장" 버튼 클릭
76. [Verify] 저장 완료 메시지 확인
77. [Screenshot] "프롬프트 수정 완료"

# 프롬프트 변경 적용 확인
78. [Browser] 메인 페이지로 이동 (뒤로가기 × N)
79. [Browser] 이전에 업로드했던 이미지 재선택
    - 예: attached_assets/sample1.png
80. [Browser] 이미지 업로드
81. [Wait] Gemini API 응답 대기 (3초)
82. [Verify] 상세 페이지 표시
83. [Verify] 생성된 텍스트가 이전과 다른지 확인
    - "친절한 AI 가이드" 톤 반영 확인
84. [Screenshot] "프롬프트 변경 후 생성 텍스트"
85. [Compare] 이전 생성 텍스트와 비교 (톤, 스타일 변화)
```

---

## 📸 필수 스크린샷 체크리스트

테스트 진행 중 다음 시점에 반드시 스크린샷 촬영:

- [ ] 1. 기능 설명 페이지 로딩 완료
- [ ] 2. AI 생성 텍스트 표시 완료 (첫 번째 이미지)
- [ ] 3. 보관함 - 저장된 콘텐츠 3개
- [ ] 4. 모바일 뷰 - 추천 갤러리
- [ ] 5. 태블릿 뷰 - 추천 갤러리
- [ ] 6. 데스크톱 뷰 - 추천 갤러리
- [ ] 7. 공유 페이지 렌더링
- [ ] 8. 오프라인 모드 정상 작동
- [ ] 9. 설정 페이지 - 인증 성공
- [ ] 10. 추천 갤러리 업로드 완료
- [ ] 11. 추천 갤러리 - 새 항목 게시 확인
- [ ] 12. 프롬프트 수정 완료
- [ ] 13. 프롬프트 변경 후 생성 텍스트

---

## 🎯 검증 체크리스트

### 추천 갤러리 반응형
- [ ] 모바일: 텍스트 0.9rem 이상, 2줄 이내
- [ ] 태블릿: 텍스트 중간 크기, 그라데이션 선명
- [ ] 데스크톱: 텍스트 1.125rem, 호버 효과 작동
- [ ] 1:1 비율 유지 (aspect-square)
- [ ] 내 보관함과 시각적 구별 명확

### 공유 링크 관리
- [ ] 업로드 소요 시간 2초 이내
- [ ] 즉시 추천 갤러리에 반영
- [ ] 페이지 전환 부드러움 (버벅거림 없음)

### 프롬프트 커스터마이징
- [ ] 변경사항 즉시 저장
- [ ] 동일 이미지에 다른 결과 생성
- [ ] 변경된 톤/스타일 반영

---

## 🚨 자주 발생하는 실패 원인 및 해결책

| 실패 원인 | 증상 | 해결책 |
|---------|------|--------|
| 카메라 권한 요청 | "Requested device not found" | 촬영 대신 업로드 사용 |
| API 응답 대기 부족 | 빈 화면, 텍스트 미표시 | 최소 3초 대기 |
| 로컬 환경 사용 | 기능 정상 작동 안 됨 | 미리보기 URL 사용 |
| 직접 URL 접근 | 404 에러 | UI 플로우 순서 준수 |
| Service Worker 캐시 | 이전 버전 로딩 | Hard Refresh (Ctrl+Shift+R) |
| Netlify 함수 오류 | 500 에러 | 재배포 후 재테스트 |
| 세션 만료 | 설정 페이지 접근 불가 | 비밀번호 재입력 |

---

## 💡 AI 에이전트 객관적 피드백 가이드

테스트 완료 후 다음 항목에 대해 솔직한 평가 제공:

### UI/UX 평가
1. **정보 계층 구조**: 추천 갤러리 vs 내 보관함 구별 명확도
2. **가독성**: 다양한 뷰포트에서 텍스트 읽기 쉬움
3. **인터랙션**: 버튼 크기, 터치 영역, 피드백 적절성
4. **성능**: 페이지 전환 속도, 버벅거림 정도

### 정보 흐름 효율성
1. **온보딩**: 첫 사용자가 이해하기 쉬운가?
2. **네비게이션**: 원하는 기능까지 도달하는 클릭 수
3. **에러 처리**: 오류 발생 시 사용자 안내 충분한가?
4. **피드백**: 액션 후 결과 확인 명확한가?

### 개선 제안
- 발견된 버그 상세 설명
- UX 개선 아이디어
- 성능 최적화 포인트

---

## ✅ 테스트 완료 기준

모든 PHASE (1-7) 완료 + 스크린샷 13장 + 객관적 피드백 작성

---

**마지막 업데이트**: 2025-10-05  
**버전**: 1.0  
**테스트 예상 소요 시간**: 15-20분
