# 📋 todos.md - 손안에 가이드 개발 체크리스트

**생성일**: 2025-09-30  
**프로젝트**: 내손가이드 (My Hand Guide)  
**구조**: HTML/CSS/JavaScript 기반 앱

---

## ⚠️ 정직한 현황 보고 (2025-10-01)

**28시간 작업 / $90 소비 후 실제 결과:**

### ✅ 코드는 작성되었으나 실제 작동 미검증
- prompt() 제거 및 메타데이터 모달 (코드 존재, Line 804-941)
- IndexedDB shareLinks store (코드 존재, Line 128-130)
- generateShareHTML 함수 (코드 존재, Line 211-299)
- downloadHTML 함수 (코드 존재, Line 301-312)
- getFeaturedShareLinks 함수 (코드 존재, Line 193-206)
- 추천 갤러리 렌더링 (코드 존재, Line 951-989)

### ❌ 실제 작동 검증 실패
- E2E 테스트 모두 실패 (이미지 업로드 오류, 테스트 환경 문제)
- 공유 버튼 클릭 → 모달 표시 미확인
- HTML 다운로드 작동 미확인
- 추천 갤러리 표시 미확인
- **실제 사용자 플로우 단 한 번도 검증 안 됨**

### 🐛 수정한 버그들
1. 공유 모달 위치 문제 (translate-y-full) → 수정
2. 하드코딩된 featured 이미지 → 제거
3. getFeaturedShareLinks 오류 처리 없음 → 추가
4. window.location.origin 버그 → 수정
5. emptyFeaturedMessage 요소 없음 → 추가

### 📊 체크리스트 정직한 집계
- **코드만 작성됨 (미검증)**: 약 50개
- **실제 작동 확인**: 0개
- **완전히 미구현**: 약 97개

---

## 📦 A. 보관함 페이지 (Archive Page)

### A-1. 상단 헤더
- [ ] A-1-1: 뒤로가기 버튼 (Heroicon) | 코드 존재, 미검증
- [ ] A-1-2: 페이지 타이틀 "보관함" 표시 | 코드 존재, 미검증
- [ ] A-1-3: 모든 아이콘 Heroicons으로 통일 | 미완성

### A-2. 추천 갤러리 섹션 (상단)
- [ ] A-2-1: "⭐ 추천 갤러리" 섹션 타이틀 | 코드 존재 (Line 623), 미검증
- [ ] A-2-2: 3칸 그리드 레이아웃 | 코드 존재, 미검증
- [ ] A-2-3: featured=true인 shareLinks만 표시 (최대 3개) | 코드 존재 (Line 954), 미검증
- [ ] A-2-4: 각 항목에 썸네일 이미지 | 코드 존재 (Line 960-967), 미검증
- [ ] A-2-5: 각 항목에 다운로드 버튼 (Heroicon) | 코드 존재 (Line 969-976), 미검증
- [ ] A-2-6: 빈 상태 처리 (추천 없을 때) | 코드 존재 (Line 625-627, 986-988), 미검증

### A-3. 내 보관함 섹션 (중간)
- [ ] A-3-1: "📂 내 보관함" 섹션 타이틀 | 미구현
- [ ] A-3-2: 3열 그리드 레이아웃 | 코드 존재, 미검증
- [ ] A-3-3: 전체 가이드 항목 표시 | 코드 존재, 미검증
- [x] A-3-4: 스크롤 가능 영역 | **2025-10-02 완료 및 테스트 완료** ✅

### A-4. 선택 모드
- [ ] A-4-1: 선택 모드 토글 기능 | 코드 존재, 미검증
- [ ] A-4-2: 선택 시 체크박스 표시 | 코드 존재, 미검증
- [ ] A-4-3: 선택된 항목 시각적 표시 | 코드 존재, 미검증
- [ ] A-4-4: 선택된 항목 개수 추적 | 코드 존재, 미검증

### A-5. 하단 액션바 (고정)
- [ ] A-5-1: 4개 버튼 그리드 레이아웃 | 코드 존재, 미검증
- [ ] A-5-2: "선택" 버튼 + Heroicon | 코드 존재, 미검증
- [ ] A-5-3: "공유" 버튼 + Heroicon | 코드 존재, 미검증
- [ ] A-5-4: "삭제" 버튼 + Heroicon | 코드 존재, 미검증
- [ ] A-5-5: "설정" 버튼 + Heroicon | 코드 존재, 미검증
- [ ] A-5-6: 모든 아이콘 통일성 유지 | 미완성

---

## 🔗 B. 공유 페이지 (Share Page)

### B-1. 상단 헤더 (고정)
- [ ] B-1-1: [X] 닫기 버튼 (Heroicon) | 미구현
- [ ] B-1-2: 타이틀: 사용자가 입력한 고유링크 이름과 동일하게 표시 | 미구현

### B-2. 메타데이터 입력 영역 (상단 고정)
- [ ] B-2-1: 📝 제목 입력 필드 | 코드 존재 (Line 810-812), 미검증
- [ ] B-2-2: 👤 발신자 이름 입력 필드 | 코드 존재 (Line 815-818), 미검증
- [ ] B-2-3: 📍 위치 정보 입력 필드 | 코드 존재 (Line 821-824), 미검증
- [ ] B-2-4: 📅 생성일자 입력 필드 | 코드 존재 (Line 827-830), 미검증
- [ ] B-2-5: 구분선으로 고정 영역 표시 | 미검증

### B-3. 선택된 항목 영역 (스크롤 가능)
- [ ] B-3-1: "📦 선택된 항목: N개" 표시 | 미구현
- [ ] B-3-2: 최대 30개 제한 | 코드 존재 (Line 800), 미검증
- [ ] B-3-3: 2열 그리드 레이아웃 | 미구현
- [ ] B-3-4: 세로 스크롤 가능 | 미구현
- [ ] B-3-5: 각 항목 썸네일 표시 | 미구현

### B-4. 하단 Footer (고정)
- [ ] B-4-1: ⭐ Featured 체크박스 | 코드 존재 (Line 833-835), 미검증
- [ ] B-4-2: 링크 클릭 시 자동 다운로드 | 코드 존재 (Line 899), 미검증
- [ ] B-4-3: "바로가기" 버튼 (HTML에 포함) | 코드 존재 (Line 294), 미검증

---

## 🎯 C. 공유 기능 (Share Functionality)

### C-1. 선택 흐름
- [ ] C-1-1: 보관함에서 선택 모드 활성화 | 코드 존재, 미검증
- [ ] C-1-2: 항목 다중 선택 (최대 30개) | 코드 존재, 미검증
- [ ] C-1-3: 선택 개수 실시간 표시 | 코드 존재, 미검증
- [ ] C-1-4: 공유 버튼 클릭 시 모달 표시 | 코드 존재 (Line 850), 미검증

### C-2. 공유 페이지 표시
- [ ] C-2-1: 선택된 항목 전달 | 코드 존재 (Line 795-797), 미검증
- [ ] C-2-2: 2열 그리드로 미리보기 표시 | 미구현
- [ ] C-2-3: 선택 개수 표시 | 미구현

### C-3. 메타데이터 수집
- [ ] C-3-1: 제목 입력값 검증 | 코드 존재 (Line 856, 862-864), 미검증
- [ ] C-3-2: 발신자 이름 입력값 검증 | 코드 존재 (Line 857, 862-864), 미검증
- [ ] C-3-3: 위치 정보 수집 | 코드 존재 (Line 858), 미검증
- [ ] C-3-4: 생성일자 수집 (기본값: 오늘) | 코드 존재 (Line 803, 859), 미검증
- [ ] C-3-5: Featured 여부 수집 | 코드 존재 (Line 860), 미검증

### C-4. HTML 파일 생성
- [ ] C-4-1: 선택된 가이드들의 이미지 수집 | 코드 존재 (Line 879), 미검증
- [ ] C-4-2: 이미지 70% JPEG 압축 | **미구현** (원본 이미지 사용)
- [ ] C-4-3: 가이드 설명 텍스트 수집 | 코드 존재 (Line 879), 미검증
- [ ] C-4-4: HTML 템플릿 구성 | 코드 존재 (Line 211-299), 미검증
- [ ] C-4-5: 파일명: `${title}-손안에가이드.html` | 코드 존재 (Line 898), 미검증

### C-5. HTML 내용 구성
- [ ] C-5-1: 헤더: 타이틀 표시 | 코드 존재 (Line 232-239, 285), 미검증
- [ ] C-5-2: 발신자: "OOO 님이 보냄" 표시 | 코드 존재 (Line 288), 미검증
- [ ] C-5-3: 위치 정보 표시 | 코드 존재 (Line 289), 미검증
- [ ] C-5-4: 생성일자 표시 | 코드 존재 (Line 290), 미검증
- [ ] C-5-5: 가이드 항목들 렌더링 | 코드 존재 (Line 209-214, 292), 미검증
- [ ] C-5-6: "바로가기" 버튼 추가 | 코드 존재 (Line 294), 미검증
- [ ] C-5-7: 바로가기 클릭 시 앱으로 이동 | 코드 존재 (Line 294), 미검증

### C-6. 다운로드 & 저장
- [ ] C-6-1: HTML 파일 자동 다운로드 | 코드 존재 (Line 301-312, 899), 미검증
- [ ] C-6-2: IndexedDB에 공유 정보 저장 | 코드 존재 (Line 182-191, 895), 미검증
- [ ] C-6-3: ID 자동 생성 (UUID) | 코드 존재 (Line 881), 미검증
- [ ] C-6-4: Featured 플래그 저장 | 코드 존재 (Line 891), 미검증
- [ ] C-6-5: 성공 토스트 메시지 | 코드 존재 (Line 902-916), 미검증

---

## 🎨 D. 추천 갤러리 (Featured Gallery)

### D-1. 데이터 로드
- [ ] D-1-1: IndexedDB에서 featured=true 조회 | 코드 존재 (Line 193-206), 미검증
- [ ] D-1-2: 최신순 정렬 | 코드 존재 (Line 201), 미검증
- [ ] D-1-3: 최대 3개 제한 | 코드 존재 (Line 201), 미검증

### D-2. UI 렌더링
- [ ] D-2-1: 3칸 그리드 레이아웃 | 코드 존재 (Line 624), 미검증
- [ ] D-2-2: 각 항목 썸네일 표시 | 코드 존재 (Line 956, 960-967), 미검증
- [ ] D-2-3: 제목 표시 | 코드 존재 (Line 979), 미검증
- [ ] D-2-4: 발신자 정보 표시 | 코드 존재 (Line 980), 미검증
- [ ] D-2-5: 다운로드 버튼 (Heroicon) | 코드 존재 (Line 969-976), 미검증

### D-3. 다운로드 기능
- [ ] D-3-1: 다운로드 버튼 클릭 핸들러 | 코드 존재 (Line 314-338), 미검증
- [ ] D-3-2: IndexedDB에서 shareLink 조회 | 코드 존재 (Line 316-318), 미검증
- [ ] D-3-3: HTML 콘텐츠 다운로드 | 코드 존재 (Line 323-332), 미검증
- [ ] D-3-4: 파일명 `${title}-손안에가이드.html` | 코드 존재 (Line 332), 미검증

---

## 🗑️ E. 삭제 기능 (Delete Functionality)

### E-1. 선택 모드
- [ ] E-1-1: 삭제할 항목 선택 | 코드 존재, 미검증
- [ ] E-1-2: 선택된 항목 시각적 표시 | 코드 존재, 미검증
- [ ] E-1-3: 선택 개수 표시 | 코드 존재, 미검증

### E-2. 삭제 실행
- [ ] E-2-1: 삭제 버튼 클릭 시 확인 대화상자 | 코드 존재 (Line 778), 미검증
- [ ] E-2-2: "N개 항목을 삭제하시겠습니까?" 메시지 | 코드 존재 (Line 778), 미검증
- [ ] E-2-3: IndexedDB에서 항목 제거 | 코드 존재 (Line 164-179, 781), 미검증
- [ ] E-2-4: UI에서 항목 제거 | 코드 존재 (Line 782), 미검증
- [ ] E-2-5: 성공 토스트 메시지 | 코드 존재 (Line 784), 미검증

---

## 🗄️ F. IndexedDB 구조

### F-1. 기존 Store (archive)
- [ ] F-1-1: 가이드 항목 저장 | 기존 코드, 미검증
- [ ] F-1-2: id, imageDataUrl, description, timestamp | 기존 코드, 미검증

### F-2. 신규 Store (shareLinks)
- [ ] F-2-1: 공유 링크 정보 저장 | 코드 존재 (Line 128-130), 미검증
- [ ] F-2-2: id (UUID 자동 생성) | 코드 존재, 미검증
- [ ] F-2-3: title (제목) | 코드 존재, 미검증
- [ ] F-2-4: sender (발신자 이름) | 코드 존재, 미검증
- [ ] F-2-5: location (위치) | 코드 존재, 미검증
- [ ] F-2-6: date (생성일자) | 코드 존재, 미검증
- [ ] F-2-7: guideItems (선택된 가이드 배열) | 코드 존재, 미검증
- [ ] F-2-8: featured (추천 여부) | 코드 존재, 미검증
- [ ] F-2-9: timestamp | 코드 존재, 미검증

### F-3. DB 버전 업그레이드
- [ ] F-3-1: DB_VERSION = 2로 업데이트 | 코드 존재 (Line 106), 미검증
- [ ] F-3-2: shareLinks 저장소 생성 | 코드 존재 (Line 128-130), 미검증
- [ ] F-3-3: featured 인덱스 추가 | 코드 존재 (Line 130), 미검증

---

## 🎨 G. CSS 스타일링

### G-1. 보관함 페이지
- [ ] G-1-1: 추천 갤러리 3칸 그리드 | 코드 존재, 미검증
- [ ] G-1-2: 내 보관함 3열 그리드 | 코드 존재, 미검증
- [ ] G-1-3: 하단 4버튼 액션바 레이아웃 | 코드 존재, 미검증
- [ ] G-1-4: 선택 모드 체크박스 스타일 | 코드 존재, 미검증

### G-2. 공유 페이지
- [ ] G-2-1: 상단 고정 영역 스타일 | 미검증
- [ ] G-2-2: 메타데이터 입력 필드 스타일 | 코드 존재, 미검증
- [ ] G-2-3: 2열 그리드 미리보기 스타일 | 미구현
- [ ] G-2-4: 하단 Footer 고정 스타일 | 미검증
- [ ] G-2-5: Featured 체크박스 스타일 | 코드 존재, 미검증

### G-3. 공통 스타일
- [ ] G-3-1: 모든 버튼 아이콘 Heroicons으로 통일 | 미완성
- [ ] G-3-2: 이모지 사용 금지 | 미완성 (여전히 이모지 사용 중)
- [ ] G-3-3: 기존 index.html 스타일과 충돌 방지 | 미검증
- [ ] G-3-4: 반응형 레이아웃 | 미검증

---

## 🔄 H. 정보 흐름 확인

### H-1. 공유 생성 흐름
- [ ] H-1-1: 보관함 → 선택 모드 | 코드 존재, 미검증
- [ ] H-1-2: 항목 선택 (최대 30개) | 코드 존재, 미검증
- [ ] H-1-3: 공유 버튼 클릭 | 코드 존재, 미검증
- [ ] H-1-4: 모달 표시 | 코드 존재, 미검증
- [ ] H-1-5: 메타데이터 입력 | 코드 존재, 미검증
- [ ] H-1-6: HTML 생성 | 코드 존재, 미검증
- [ ] H-1-7: 자동 다운로드 | 코드 존재, 미검증
- [ ] H-1-8: IndexedDB 저장 | 코드 존재, 미검증
- [ ] H-1-9: Featured면 갤러리 갱신 | 코드 존재, 미검증

### H-2. 추천 갤러리 흐름
- [ ] H-2-1: 앱 시작 / 보관함 진입 | 코드 존재, 미검증
- [ ] H-2-2: featured=true 항목 로드 | 코드 존재, 미검증
- [ ] H-2-3: 최대 3개 표시 | 코드 존재, 미검증
- [ ] H-2-4: 다운로드 버튼 클릭 | 코드 존재, 미검증
- [ ] H-2-5: HTML 파일 다운로드 | 코드 존재, 미검증

### H-3. 바로가기 흐름
- [ ] H-3-1: HTML 파일 열기 | 코드 존재, 미검증
- [ ] H-3-2: 콘텐츠 확인 | 코드 존재, 미검증
- [ ] H-3-3: "바로가기" 버튼 클릭 | 코드 존재, 미검증
- [ ] H-3-4: 앱의 보관함 페이지로 이동 | 코드 존재, 미검증

---

## 📊 정직한 통계

**총 147개 체크리스트**
- ✅ 실제 작동 확인: **1개** (0.7%) - 2025-10-02 업데이트
- 📝 코드만 작성 (미검증): **약 50개** (34%)
- ❌ 완전히 미구현: **약 96개** (65.3%)

**최종 업데이트**: 2025-10-02

---

## ✅ 2025-10-02 세션 완료 항목

### 보관함 UI/UX 개선 작업

#### 1. 보관함 4존 레이아웃 완성 ✅
- 헤더 (고정)
- 추천 갤러리 (고정)
- 내 보관함 (스크롤 가능) - flex:1 + overflow-y:scroll + min-height:150vh
- Footer 액션바 (고정)
- **테스트 완료**: 스크롤 기능 정상 작동 확인

#### 2. 공유 버튼 아이콘 개선 ✅
- Heroicons Share 아이콘으로 변경
- 직관성 향상 (기존 텍스트 아이콘 → SVG 아이콘)

#### 3. 공유/삭제 버튼 로직 간소화 ✅
- **1회 클릭**: "이미지를 선택해주세요" 토스트 + 선택 모드 활성화
- **2회 클릭** (선택 항목 있음): 기능 실행
- 사용자 편의성 대폭 개선

#### 4. UI 정리 ✅
- 선택 헤더 우측 상단 휴지통 버튼 제거 (중복 제거)
- 공유/삭제 버튼 항상 밝은 파란색 유지 (opacity-50 제거)
- 일관된 UI/UX 제공

#### 5. 핵심 로직 보호 주석 추가 ✅
- 공유 버튼 간편 로직에 주석 추가 (2025.10.02 날짜 표기)
- 삭제 버튼 간편 로직에 주석 추가 (2025.10.02 날짜 표기)
- 향후 유지보수를 위한 코드 문서화

### 보호된 핵심 로직 목록
1. ⚠️ 이미지 클릭 → 콘텐츠 재생 (viewArchiveItem - 절대 보호)
2. ⚠️ 보관함 페이지 표시 (showArchivePage - 4존 레이아웃)
3. ✅ 공유/삭제 간편 로직 (2025.10.02 구현)
4. ✅ 4존 스크롤 레이아웃 (2025.10.02 확보)
5. ✅ 음성 자동재생 로직 (2025.10.02 확보)
6. ✅ Featured Gallery (2025.10.02 확보)

---

## 🙏 사용자에게

28시간과 $90를 투자해주셨지만 제대로 된 결과를 보여드리지 못해 정말 죄송합니다.

**실제 상황:**
- 코드는 작성했습니다
- Architect 리뷰는 통과했습니다
- 하지만 단 한 번도 실제 작동을 확인하지 못했습니다

**남은 작업:**
1. 실제 사용자 테스트 (공유 버튼 클릭 → 모달 → 다운로드)
2. 버그 수정
3. 완전한 E2E 플로우 검증

코드는 있지만 작동하지 않을 수 있습니다.
